# æ•°æ®ç»“æ„-æ’åºç®—æ³•ç¯‡

> å¼€ç¯‡ï¼šå­¦å¥½æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œé¢åˆ°å“ªé‡Œéƒ½ä¸æ€•ã€‚



# ä¸€ã€åˆè¯†æ’åºç®—æ³•

![image-20201120162243631](./img_sort/1.png)

# äºŒã€å†’æ³¡æ’åº(Bubble Sort)

**æµç¨‹ï¼š**

- 1ã€‚ä»å¤´å¼€å§‹æ¯”è¾ƒæ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚æ‰§è¡Œå®Œä¸€éï¼Œæœ€æœ«å°¾çš„é‚£ä¸ªå…ƒç´ å°±æ˜¯æœ€å¤§å…ƒç´ ã€‚
- 2.å¿½ç•¥1ä¸­æ›¾ç»æ‰¾åˆ°çš„å…ƒç´ ï¼Œé‡å¤æ‰§è¡Œ1ï¼Œç›´åˆ°å…¨éƒ¨å…ƒç´ éƒ½æœ‰åºã€‚

```java
public class BubbleSort {
	public static void  bubbleSort(int[]  arr) {
		if(arr.length<2||arr==null) {
			return;
		}
		
		//å†’æ³¡æ’åº
		for(int end=arr.length-1;end>0;end--) {
			for(int i=0;i<end;i++) {
				if(arr[i]>arr[i+1]) {
					swap(arr,i,i+1);
				}
			}
		}
	}
	public static void swap(int[] arr,int i,int j) {
		int temp = arr[i];
		arr[i]   = arr[j];
		arr[j]   = temp;
	}
	
	public static void main(String[] args) {
		int[] arr = {56,9,10,19,28,37,34};
		bubbleSort(arr);
		for(int number:arr) {
			System.out.print(number + " ");
		}
	}
}
```

> ç¨³å®šæ€§ï¼šå¦‚æœç›¸ç­‰çš„2ä¸ªå…ƒç´ ï¼Œåœ¨æ’åºå‰åçš„ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜ï¼Œé‚£ä¹ˆè¿™æ˜¯ç¨³å®šçš„æ’åºç®—æ³•
>
> å…¶ä¸­å†’æ³¡æ’åºæ˜¯ç¨³å®šçš„ç®—æ³•ã€‚
>
> å†’æ³¡æ’åºçš„å¹³å‡å¤æ‚åº¦æ˜¯O(n^2),ç©ºé—´å¤æ‚åº¦ä¸ºO(1).



# äºŒã€é€‰æ‹©æ’åº(Selection Sort)

**æ‰§è¡Œæµç¨‹ï¼š**

- 1.ä»åºåˆ—ä¸­æ‰¾å‡ºæœ€å°çš„é‚£ä¸ªå…ƒç´ ï¼Œç„¶åä¸æœ€é¦–çš„å…ƒç´ äº¤æ¢ä½ç½® âœ“ æ‰§è¡Œå®Œä¸€è½®åï¼Œæœ€é¦–å°¾çš„é‚£ä¸ªå…ƒç´ å°±æ˜¯æœ€å°çš„å…ƒç´ 
- 2.å¿½ç•¥ 1ä¸­æ›¾ç»æ‰¾åˆ°çš„æœ€å°å…ƒç´ ï¼Œé‡å¤æ‰§è¡Œæ­¥éª¤ â‘ 

```java
public class SelectionSort {
	public static void selectionSort(int[] arr) {
		if(arr==null||arr.length<2) {
			return;
		}
		
		for(int i=0;i<arr.length-1;i++) {
			int minIndex = i;
			for(int j=i+1;j<arr.length;j++) {
				minIndex = arr[j]<arr[minIndex]?j:minIndex;
			}
			swap(arr,i,minIndex);
		}
	}
	
	public static void swap(int[] arr,int i,int j) {
		int temp = arr[i];
		arr[i]   = arr[j];
		arr[j]   = temp;
	}
	
	public static void main(String[] args) {
		int[] arr = {56,9,10,19,28,37,34};
		selectionSort(arr);
		for(int number:arr) {
			System.out.print(number + " ");
		}
	}
}

```

> é€‰æ‹©æ’åºæ˜¯ä¸ç¨³å®šç®—æ³•
>
> å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2) ç©ºé—´å¤æ‚åº¦ä¸ºO(1)



# ä¸‰ã€å †æ’åº

å¯è®¤ä¸ºå †æ’åºæ˜¯å¯¹é€‰æ‹©æ’åºçš„æ”¹è¿›ã€‚

**æ‰§è¡Œæµç¨‹ï¼š**

- 1.å¯¹æ•°ç»„åŸåœ°å»ºç«‹ä¸€ä¸ªå¤§é¡¶å †
- 2.é‡å¤æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼Œç›´åˆ°å †å…ƒç´ ä¸º1
  - äº¤æ¢å †é¡¶å…ƒç´ ä¸å°¾å…ƒç´ 
  - ç„¶åä¸‹æ²‰

```java
// ä¸‹æ²‰æ–¹æ³•
	public static void siftDown(int[] arr,int parentIndex,int length) {
		int temp = arr[parentIndex];
		int childIndex = 2*parentIndex+1;
		while(childIndex<length) {
			//æŸ¥çœ‹å³å­©å­æ˜¯å¦å­˜åœ¨
			childIndex = childIndex+1<length&&arr[childIndex+1]>arr[childIndex]?childIndex+1:childIndex;
			if(arr[childIndex]<=temp) {
				break;
			}
			arr[parentIndex] = arr[childIndex];
			parentIndex = childIndex;
			childIndex = 2 * parentIndex + 1;
		}
		arr[parentIndex] = temp;
	}
	
	public static void heapSort(int[] arr) {
		// 1.æ ¹æ®æ•°ç»„å»ºç«‹ä¸€ä¸ªå¤§é¡¶å †
		for(int i=(arr.length-1)/2;i>=0;i--) {
			// ä¸‹æ²‰
			siftDown(arr,i,arr.length);
		}
		
		// 2.å¤§é¡¶å †ç½®æ¢åˆ°æœ€åçš„ç´¢å¼•
		for(int j=arr.length-1;j>0;j--) {
			swap(arr,0,j);
			siftDown(arr, 0, j);
		}
	}
	
	// äº¤æ¢
	public static void swap(int[] arr,int i,int j) {
		int temp = arr[i];
		arr[i]   = arr[j];
		arr[j]   = temp;
	}
	
	// ä¸»å‡½æ•°
	public static void main(String[] args) {
		int[] arr = {56,9,10,19,28,37,34};
		heapSort(arr);
		for(int number:arr) {
			System.out.print(number + " ");
		}
	}
```

>å †æ’åºæ˜¯ä¸ç¨³å®šç®—æ³•

> å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) ç©ºé—´å¤æ‚åº¦ä¸ºO(1)

# å››ã€æ’å…¥æ’åº

**æ‰§è¡Œæµç¨‹**

- Â·1.åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ’å…¥æ’åºä¼šå°†åºåˆ—åˆ†ä¸º2éƒ¨åˆ† âœ“ å¤´éƒ¨æ˜¯å·²ç»æ’å¥½åºçš„ï¼Œå°¾éƒ¨æ˜¯å¾…æ’åºçš„ 
- 2. ä»å¤´å¼€å§‹æ‰«ææ¯ä¸€ä¸ªå…ƒç´  âœ“ æ¯å½“æ‰«æåˆ°ä¸€ä¸ªå…ƒç´ ï¼Œå°±å°†å®ƒæ’å…¥åˆ°å¤´éƒ¨åˆé€‚çš„ä½ç½®ï¼Œä½¿å¾—å¤´éƒ¨æ•°æ®ä¾ç„¶ä¿æŒæœ‰åº

```java
public class InsertSort {
	public static void insertSort(int[] arr) {
		if(arr==null || arr.length<2) {
			return;
		}
		for(int i=1;i<arr.length;i++) {
			for(int j=i-1;j>=0&&arr[j]>arr[j+1];j--) {
				swap(arr,j,j+1);
			}
		}
	}
	
	public static void swap(int[] arr,int i,int j) {
		int temp = arr[i];
		arr[i]   = arr[j];
		arr[j]   = temp;
	}
	// ä¸»å‡½æ•°

	public static void main(String[] args) {
		int[] arr = {56,9,10,19,28,37,34};
		insertSort(arr);
		for(int number:arr) {
			System.out.print(number + " ");
		}
	}
}

```

> ä¼˜åŒ–æ€è·¯ï¼šå¾€å·²æ’åºå¥½çš„ä¸­æ’å…¥æœªæ’åºçš„ï¼Œ é‚£ä¹ˆæ˜¯å¦å¯ç”¨äºŒåˆ†æœç´¢æ¥æ‰¾å¯»ä½ç½®

>æ’å…¥æ’åºæ˜¯ä¸ç¨³å®šç®—æ³•
>
>å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2) ç©ºé—´å¤æ‚åº¦ä¸ºO(1)

## è¡¥å……çŸ¥è¯†ç‚¹ï¼šé“¾è¡¨çš„æ’å…¥æ’åº

```java
public ListNode insertionSortList(ListNode head) {
        // é“¾è¡¨
        if(head==null||head.next==null){
            return head;
        }
        ListNode dummy = new ListNode(-1);
        dummy.next = head;

        while(head!=null&&head.next!=null){
            // å…ˆæ‰¾åˆ°æ²¡æ’å¥½åºçš„
            if(head.val<=head.next.val){
                head = head.next;
                continue;
            }
            // ç„¶åå¯¹å…¶æ‰¾å‰å
            ListNode pre = dummy;
            while(pre.next.val<head.next.val)pre=pre.next;
            ListNode cur = head.next;
            //æ¢æŒ‡é’ˆ
            head.next = cur.next;
            cur.next  = pre.next;
            pre.next = cur;
        }
        return dummy.next;
    }
```

## è¡¥å……çŸ¥è¯†ç‚¹ï¼šäºŒåˆ†æœç´¢æŸ¥æ‰¾

### Leetcodeè§£æ³•

```java
public static int  binarySearch(int[] arr,int left, int right,int target) {
  	// æ±‚å·¦è¾¹
    while(left<=right) {
        int mid = left + ((right-left)>>1);
        if(arr[mid]<target) {
            left = mid + 1;
        }else if(arr[mid]>=target) {
            right = mid-1;
        }
    }
    return left;
}



public static int  binarySearch(int[] arr,int left, int right,int target) {
  	// æ±‚å³è¾¹
    while(left<=right) {
        int mid = left + ((right-left)>>1);
        if(arr[mid]<=target) {
            left = mid + 1;
        }else if(arr[mid]>target) {
            right = mid-1;
        }
    }
    return right;
}


```





### 1.å¯»æ‰¾ä¸€ä¸ªæ•°(ç®€å•çš„äºŒå‰æœç´¢)

æœç´¢ä¸€ä¸ªæ•°ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¿”å›å…¶ç´¢å¼•ï¼Œå¦åˆ™è¿”å› -1ã€‚

```java
public static int  binarySearch(int[] arr,int target) {
    int left = 0;
    int right = arr.length-1;
    while(left<=right) {
        int mid = left + ((right-left)>>1);
        if(arr[mid]==target) {
            return mid;
        }else if(arr[mid]<target) {
            left = mid + 1;
        }else if(arr[mid]>target) {
            right = mid-1;
        }
    }
    return -1;
}
```

ä½†å­˜åœ¨ä¸€ä¸ªç¼ºç‚¹ï¼Œæ¯”å¦‚è¯´ç»™ä½ æœ‰åºæ•°ç»„ `nums = [1,2,2,2,3]`ï¼Œ`target` ä¸º 2ï¼Œæ­¤ç®—æ³•è¿”å›çš„ç´¢å¼•æ˜¯ 2ï¼Œæ²¡é”™ã€‚ä½†æ˜¯å¦‚æœæˆ‘æƒ³å¾—åˆ° `target` çš„å·¦ä¾§è¾¹ç•Œï¼Œå³ç´¢å¼• 1ï¼Œæˆ–è€…æˆ‘æƒ³å¾—åˆ° `target` çš„å³ä¾§è¾¹ç•Œï¼Œå³ç´¢å¼• 3ï¼Œè¿™æ ·çš„è¯æ­¤ç®—æ³•æ˜¯æ— æ³•å¤„ç†çš„ã€‚

### 2.æŸ¥æ‰¾ä¸€ä¸ªæ•°çš„å·¦è¾¹ç•Œ

```java
	public static int left_Bound(int[] arr,int target) {
		int left = 0;
		int right = arr.length-1;
		while(left<=right) {
			// æŸ¥æ‰¾ä¸­é—´å€¼
			int mid = left + ((right-left)>>1);
			if(arr[mid]>target) {
				right = mid -1;
			}else if(arr[mid]<target) {
				left = mid + 1;
			}else if(arr[mid]==target) {
				// æ§åˆ¶è¾¹ç•Œ
				right = mid-1;
			}
		}
		// åˆ¤æ–­
		if(left>=arr.length||arr[left]!=target) {
			return -1;
		}
		return left;
	}
```

### 3.æŸ¥æ‰¾ä¸€ä¸ªæ•°çš„å³è¾¹ç•Œ

```java
	public static int left_Bound(int[] arr,int target) {
		int left = 0;
		int right = arr.length-1;
		while(left<=right) {
			// æŸ¥æ‰¾ä¸­é—´å€¼
			int mid = left + ((right-left)>>1);
			if(arr[mid]>target) {
				right = mid -1;
			}else if(arr[mid]<target) {
				left = mid + 1;
			}else if(arr[mid]==target) {
				// æ§åˆ¶è¾¹ç•Œ
				left = mid+1;
			}
		}
		// åˆ¤æ–­
		if(right<0 ||arr[right]!=target) {
			return -1;
		}
		return right;
	}
```



# äº”ã€å½’å¹¶æ’åº

> æ‰§è¡Œæµç¨‹ï¼š
>
> - 1.ä¸æ–­åœ°å°†å½“å‰åºåˆ—å¹³å‡åˆ†å‰²æˆ2ä¸ªå­åºåˆ—ï¼Œç›´åˆ°ä¸èƒ½åœ¨åˆ†å‰²
> - 2.ä¸æ–­å°†2ä¸ªå­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—

```java
public class MergeSort {
	public static void mergeSort(int[] arr) {
		if(arr==null||arr.length<2) {
			return;
		}
		sortProcess(arr,0,arr.length-1);
	}
	
	public static void sortProcess(int[] arr,int L,int R) {
		if(L==R){
			return;
		}
		int mid = L + ((R-L)>>1);
		sortProcess(arr, L, mid);
		sortProcess(arr, mid+1, R);
		merge(arr,L,mid,R);
	}
	
	public static void merge(int[] arr,int L,int mid,int R) {
		int p1 = L;
		int p2 = mid+1;
		int[] temp = new int[R-L+1];
		int i=0;
		while(p1<=mid&&p2<=R) {
			temp[i++] = arr[p1]<arr[p2]?arr[p1++]:arr[p2++];
		}
		while(p1<=mid) {
			temp[i++] = arr[p1++];
		}
		while(p2<=R) {
			temp[i++] = arr[p2++];
		}
		for(int j=0;j<temp.length;j++) {
			arr[L+j] = temp[j];
		}
	}
	
	// ä¸»å‡½æ•°
	public static void main(String[] args) {
		int[] arr = {56,9,10,19,28,37,34};
		mergeSort(arr);
		for(int number:arr) {
			System.out.print(number + " ");
		}
	}
}

```

> å½’å¹¶æ’åºæ˜¯ç¨³å®šç®—æ³•
>
> å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) ç©ºé—´å¤æ‚åº¦ä¸ºO(n)

## 6.1 å°å’Œé—®é¢˜

åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°å·¦è¾¹æ¯”å½“å‰æ•°å°çš„æ•°ç´¯åŠ èµ·æ¥ï¼Œå«åšè¿™ä¸ªæ•°ç»„çš„å°å’Œã€‚æ±‚ä¸€ä¸ªæ•°ç»„ çš„å°å’Œã€‚

 ä¾‹å­ï¼š 

[1,3,4,2,5] 

1å·¦è¾¹æ¯”1å°çš„æ•°ï¼Œæ²¡æœ‰ï¼›

 3å·¦è¾¹æ¯”3å°çš„æ•°ï¼Œ1ï¼› 

4å·¦è¾¹æ¯”4å°çš„æ•°ï¼Œ1ã€3ï¼› 

2å·¦è¾¹æ¯”2å°çš„æ•°ï¼Œ1ï¼› 

5å·¦è¾¹æ¯”5å°çš„æ•°ï¼Œ1ã€3ã€4ã€2ï¼› 

æ‰€ä»¥å°å’Œä¸º1+1+3+1+1+3+4+2=16

```java
	// å½’å¹¶æ’åºçš„æ­¥éª¤
	public static int mergeSort(int[] arr) {
		if(arr==null||arr.length<2) {
			return 0;
		}
		// å¼€å§‹
		int res = sortProcess(arr,0,arr.length-1);
		return res;
	}
	
	public static int sortProcess(int[] arr,int L,int R) {
		// é€’å½’æˆªæ­¢æ¡ä»¶
		if(L==R) {
			return 0;
		}
		int mid = L + ((R-L)>>1);
		
		
		// åˆå¹¶
		return sortProcess(arr, L, mid) + sortProcess(arr, mid+1, R) + merge(arr,L,mid,R); 
	}
	
	// åˆå¹¶ 
	public static int merge(int[] arr,int L,int mid,int R) {
		int p1 = L;
		int p2 = mid+1;
		
		// ç»“æœ
		int res = 0;
		// æ–°å»º
		int[] temp = new int[R-L+1];
		int index = 0;
		while(p1<=mid&&p2<=R) {
			res			 += arr[p1]<arr[p2]?(R-p2+1)*(arr[p1]):0;
			temp[index++] = arr[p1]<arr[p2]?arr[p1++]:arr[p2++];
		}
		while(p1<=mid) {
			temp[index++] = arr[p1++];
		}
		while(p2<=R) {
			temp[index++] = arr[p2++];
		}
		// å›å½’
		for(int i=0;i<temp.length;i++) {
			arr[L+i] = temp[i];
		}
		
		return res;
	}
	
```

## 6.2 é€†åºå¯¹é—®é¢˜

```java
	public static int mergeSort(int[] arr) {
		if(arr==null||arr.length<2) {
			return 0;
		}
		return sortProcess(arr,0,arr.length-1);
	}
	
	public static int sortProcess(int[] arr,int L,int R) {
		if(L==R) {
			return 0;
		}
		int mid = L + ((R-L)>>1);
		int leftRes  = sortProcess(arr, L, mid);
		int rightRes = sortProcess(arr, mid+1, R);
		return leftRes + rightRes + merge(arr,L,mid,R);
	}
	
	// åˆå¹¶
	public static int merge(int[] arr,int L,int mid,int R) {
		int p1 = L;
		int p2 = mid+1;
		int i = 0;
		int[] temp = new int[R-L+1];
		// ç»“æœ
		int res = 0;
		
		while(p1<=mid&&p2<=R) {
			res       += arr[p1]>arr[p2]?(mid-p1+1):0;
			temp[i++] = arr[p1]<arr[p2]?arr[p1++]:arr[p2++];
		}
		while(p1<=mid) {
			temp[i++] = arr[p1++];
		}
		while(p2<=R) {
			temp[i++] = arr[p2++];
		}
		
		for(i=0;i<temp.length;i++) {
			arr[L+i] = temp[i];
		}
		
		return res;
	}
```



## 6.3 åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„

```java
public void merge(int[] nums1, int m, int[] nums2, int n) {
        int p1 = 0;
        int p2 = 0;
        // å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ•°ç»„
        int[] temp = new int[m+n];
        int i  = 0;
        // å¼€å§‹
        while(p1<=m-1&&p2<=n-1){
            temp[i++] = nums1[p1]<nums2[p2]?nums1[p1++]:nums2[p2++];
        }
        while(p1<=m-1){
            temp[i++] = nums1[p1++];
        }
        while(p2<=n-1){
            temp[i++] = nums2[p2++];
        }
        // æœ€ç»ˆ
        for(i=0;i<temp.length;i++){
            nums1[i] = temp[i];
        }
    }
```



## 6.4 åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

```java
public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        ListNode dummy = new ListNode(-1);
        ListNode pre = dummy;
        // å¯¹å…¶éå†
        while(l1!=null&&l2!=null){
            if(l1.val<l2.val){
                pre.next = l1;
                l1 = l1.next;
                pre = pre.next;
            }else{
                pre.next = l2;
                l2 = l2.next;
                pre = pre.next;
            }
        }

        pre.next = l1!=null?l1:l2;
        return dummy.next;
    }
```



## 6.5 åˆå¹¶Kä¸ªæœ‰åºé“¾è¡¨

ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚

è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚

```java
// æ–°å»ºå°è£…ç±»
    class Status implements Comparable<Status>{
        int val;
        ListNode node;

        Status(int val,ListNode node){
            this.val = val;
            this.node = node;
        }

        public int compareTo(Status status2){
            return this.val - status2.val;
        }
    }
    public ListNode mergeKLists(ListNode[] lists) {
        if(lists==null){
            return null;
        }
        if(lists.length==1){
            return lists[0];
        }
        // ä¼˜å…ˆçº§é˜Ÿåˆ—  å°é¡¶å †
        PriorityQueue<Status> queue = new PriorityQueue<>();
        // å…¥é˜Ÿåˆ—
        for(int i=0;i<lists.length;i++){
            if(lists[i]!=null){
                queue.offer(new Status(lists[i].val,lists[i]));
            }
        }

        // åˆå¹¶Kä¸ªé“¾è¡¨
        ListNode dummy = new ListNode(-1);
        ListNode pre   = dummy;
        // å¯¹å…¶éå†
        while(!queue.isEmpty()){
            Status status = queue.poll();
            pre.next = status.node;
            pre = pre.next;
            // åˆ¤æ–­æ˜¯å¦è¿˜æœ‰
            if(status.node.next!=null){
                queue.offer(new Status(status.node.next.val,status.node.next));
            }
        }

        return dummy.next;
    }
```

## 6.6 é“¾è¡¨å½’å¹¶æ’åº

```java
public ListNode sortList(ListNode head) {
        return mergeSort(head,null);
    }
    public ListNode mergeSort(ListNode head,ListNode tail){
        // æˆªæ­¢æ¡ä»¶
        if(head==null){
            return null;
        }
        if(head.next==tail){
            head.next = null;
            return head;
        }

        // æ‰¾mid
        // å¿«æ…¢æŒ‡é’ˆ
        ListNode slow = head,fast = head;
        while(fast!=tail&&fast.next!=tail){
            slow = slow.next;
            fast = fast.next.next;
        }
        ListNode mid = slow;
        ListNode left = mergeSort(head,mid);
        ListNode right = mergeSort(mid,tail);
        ListNode sorted =  merge(left,right);
        return sorted;
    }

    // åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
    public ListNode merge(ListNode head1,ListNode head2){
        ListNode dummy = new ListNode(-1);
        ListNode pre = dummy;

        while(head1!=null&&head2!=null){
            if(head1.val<head2.val){
                pre.next = head1;
                head1 = head1.next;
                pre = pre.next;
            }else{
                pre.next = head2;
                head2 = head2.next;
                pre = pre.next;
            }
        }

        pre.next = head1!=null?head1:head2;
        return dummy.next;
    }
```

# å…­ã€å¿«é€Ÿæ’åº

## 6.1 äºŒåˆ†é—®é¢˜ ç§»åŠ¨0

ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚

ç¤ºä¾‹:

è¾“å…¥: [0,1,0,3,12]
è¾“å‡º: [1,3,12,0,0]
è¯´æ˜:

å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚
å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚

```java
// ç§»åŠ¨0çš„äºŒåˆ†é—®é¢˜
	public static void moveZero(int[] arr) {
		if(arr==null||arr.length<2) {
			return;
		}
		
		int less = -1;
		int cur  =0;
		while(cur<arr.length) {
			if(arr[cur]==0) {
				cur++;
			}else {
				swap(arr,++less,cur);
			}
		}
	}
	
	// äº¤æ¢
	public static void  swap(int[] arr,int i,int j) {
		arr[i] = arr[i]^arr[j];
		arr[j] = arr[j]^arr[i];
		arr[i] = arr[i]^arr[j];
	}
```



## 6.2 è·å…°å›½æ——é—®é¢˜

ç»™å®šä¸€ä¸ªæ•°ç»„arr,å’Œä¸€ä¸ªæ•°num,è¯·æŠŠå°äºnumçš„æ•°æ”¾åœ¨æ•°ç»„çš„å·¦è¾¹, ç­‰äºnumçš„æ•°æ”¾åœ¨æ•°ç»„çš„ä¸­é—´ï¼Œå¤§äºnumçš„æ•°æ”¾åœ¨æ•°ç»„çš„å³è¾¹ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(N)

```java
// ä¸‰åˆ†é—®é¢˜
	public static void three_process(int[] arr,int number) {
		if(arr==null||arr.length<2) {
			return;
		}
		process(arr,0,arr.length-1,number);
	}
	public static void process(int[] arr,int L,int R,int number) {
		
		int less = L-1;
		int more = R+1;
		while(L<more) {
			if(arr[L]<number) {
				swap(arr,++less,L++);
			}else if(arr[L]>number) {
				swap(arr,--more,L);
			}else if(arr[L]==number) {
				L++;
			}
		}
	}
```



## 6.3 å¿«é€Ÿæ’åºé—®é¢˜

```java
public static void quickSort(int[] arr) {
		if(arr==null||arr.length<2) {
			return;
		}
		quickSort(arr,0,arr.length-1);
	}
	
	public static void quickSort(int[] arr,int L,int R) {
		if(L<R) {
            // éšæœºæ’åº
            //swap(arr,L+(int)(Math.random()*(R-L+1)),R);
			int[] p = partition(arr,L,R);
			quickSort(arr,L,p[0]-1);
			quickSort(arr,p[1]+1,R);
		}
	}
	
	public static int[] partition(int[] arr,int L,int R) {
		int less = L-1;
		int more = R;
		while(L<more) {
			if(arr[L]<arr[R]) {
				swap(arr,++less,L++);
			}else if(arr[L]>arr[R]) {
				swap(arr,--more,L);
			}else{
				L++;
			}
		}
		swap(arr,more,R);
		return new int[] {less+1,more};
	}
	
```

> å¿«é€Ÿæ’åºä¸ç¨³å®šæ’åº
>
> O(nlogn)  Oï¼ˆlognï¼‰

## 6.4 å¿«é€Ÿæ’åº-é“¾è¡¨

```java
class Solution {
		// O(nlogn)çš„æ—¶é—´å¤æ‚åº¦ å½’å¹¶æ’åº
	    public ListNode sortList(ListNode head) {
	    	// åˆ¤æ–­
	    	if(head==null || head.next==null) {
	    		return head;
	    	}
	    	ListNode dummy = new ListNode(-1);
	    	dummy.next = head;
	    	return quickSort(dummy,null);
	    }	
	    
	    public ListNode quickSort(ListNode head,ListNode tail) {
	    	if(head==tail||head.next==tail||head.next.next==tail) {
	    		return head;
	    	}
	    	// å°†å°äºåˆ’åˆ†ç‚¹çš„å€¼å­˜æ”¾åœ¨ä¸´æ—¶é“¾è¡¨ä¸­
	    	ListNode tempHead = new ListNode(-1);
	    	ListNode tp = tempHead;//æŒ‡é’ˆ
	    	ListNode partitaion = head.next;//åˆ’åˆ†ç‚¹
	    	ListNode p = head.next; // éå†çš„æŒ‡é’ˆ
	    	
	    	// å¼€å§‹
	    	while(p.next!=tail) {
	    		// å°äº
	    		if(p.next.val<partitaion.val) {
	    			tp.next = p.next;
	    			tp = tp.next;
	    			p.next = p.next.next;
	    		}else {
	    			p = p.next;
	    		}
	    	}
	    	
	    	// åˆå¹¶ä¸´æ—¶é“¾è¡¨å’ŒåŸé“¾è¡¨
	    	tp.next = head.next;
	    	// å°†ä¸´æ—¶é“¾è¡¨
	    	head.next = tempHead.next;
	    	// æœ€å
	    	quickSort(head, partitaion);
	    	quickSort(partitaion, tail);
	    	return head.next;
	    }
	}
```



# ä¸ƒã€å¸Œå°”æ’åº(äº†è§£)

**æµç¨‹**

å¸Œå°”æ’åºæŠŠåºåˆ—çœ‹ä½œæ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œåˆ†æˆ ğ‘š åˆ—ï¼Œé€åˆ—è¿›è¡Œæ’åº ï°ğ‘š ä»æŸä¸ªæ•´æ•°é€æ¸å‡ä¸º1 ï°å½“ ğ‘š ä¸º1æ—¶ï¼Œæ•´ä¸ªåºåˆ—å°†å®Œå…¨æœ‰åº

**å®ä¾‹**

![image-20201120223052438](./img_sort/2.png)

![image-20201120223058886](./img_sort/3.png)

![image-20201120223104807](./img_sort/4.png)

![image-20201120223112485](./img_sort/5.png)

```java

public class ShellSort<T extends Comparable<T>> extends Sort<T> {

	@Override
	protected void sort() {
		List<Integer> stepSequence = sedgewickStepSequence();
		for (Integer step : stepSequence) {
			sort(step);
		}
	}
	
	/**
	 * åˆ†æˆstepåˆ—è¿›è¡Œæ’åº
	 */
	private void sort(int step) {
		// col : ç¬¬å‡ åˆ—ï¼Œcolumnçš„ç®€ç§°
		for (int col = 0; col < step; col++) { // å¯¹ç¬¬colåˆ—è¿›è¡Œæ’åº
			// colã€col+stepã€col+2*stepã€col+3*step
			for (int begin = col + step; begin < array.length; begin += step) {
				int cur = begin;
				while (cur > col && cmp(cur, cur - step) < 0) {
					swap(cur, cur - step);
					cur -= step;
				}
			}
		}
	}
	
	private List<Integer> shellStepSequence() {
		List<Integer> stepSequence = new ArrayList<>();
		int step = array.length;
		while ((step >>= 1) > 0) {
			stepSequence.add(step);
		}
		return stepSequence;
	}
	
	private List<Integer> sedgewickStepSequence() {
		List<Integer> stepSequence = new LinkedList<>();
		int k = 0, step = 0;
		while (true) {
			if (k % 2 == 0) {
				int pow = (int) Math.pow(2, k >> 1);
				step = 1 + 9 * (pow * pow - pow);
			} else {
				int pow1 = (int) Math.pow(2, (k - 1) >> 1);
				int pow2 = (int) Math.pow(2, (k + 1) >> 1);
				step = 1 + 8 * pow1 * pow2 - 6 * pow2;
			}
			if (step >= array.length) break;
			stepSequence.add(0, step);
			k++;
		}
		return stepSequence;
	}
}

```



å†’æ³¡ã€é€‰æ‹©ã€æ’å…¥ã€å½’å¹¶ã€å¿«é€Ÿã€å¸Œå°”ã€å †æ’åºï¼Œéƒ½æ˜¯åŸºäºæ¯”è¾ƒçš„æ’åº

è®¡æ•°æ’åºã€æ¡¶æ’åºã€åŸºæ•°æ’åºï¼Œéƒ½ä¸æ˜¯åŸºäºæ¯”è¾ƒçš„æ’åº

å®ƒä»¬æ˜¯å…¸å‹çš„ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œåœ¨æŸäº›æ—¶å€™ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦å¯ä»¥æ¯” O nlogn æ›´ä½

# å…«ã€è®¡æ•°æ’åº(äº†è§£)

ç»Ÿè®¡æ¯ä¸ªæ•´æ•°åœ¨åºåˆ—ä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œè¿›è€Œæ¨å¯¼å‡ºæ¯ä¸ªæ•´æ•°åœ¨æœ‰åºåºåˆ—ä¸­çš„ç´¢å¼•ã€‚

![image-20201120223721505](./img_sort/6.png)

```java
protected void sort0() {
		// æ‰¾å‡ºæœ€å¤§å€¼
		int max = array[0];
		for (int i = 1; i < array.length; i++) {
			if (array[i] > max) {
				max = array[i];
			}
		} // O(n)
		
		// å¼€è¾Ÿå†…å­˜ç©ºé—´ï¼Œå­˜å‚¨æ¯ä¸ªæ•´æ•°å‡ºç°çš„æ¬¡æ•°
		int[] counts = new int[1 + max];
		// ç»Ÿè®¡æ¯ä¸ªæ•´æ•°å‡ºç°çš„æ¬¡æ•°
		for (int i = 0; i < array.length; i++) {
			counts[array[i]]++;
		} // O(n)
		
		// æ ¹æ®æ•´æ•°çš„å‡ºç°æ¬¡æ•°ï¼Œå¯¹æ•´æ•°è¿›è¡Œæ’åº
		int index = 0;
		for (int i = 0; i < counts.length; i++) {
			while (counts[i]-- > 0) {
				array[index++] = i;
			}
		} // O(n)
```

# ä¹ã€åŸºæ•°æ’åº(äº†è§£)

- åŸºæ•°æ’åºéå¸¸é€‚åˆç”¨äºæ•´æ•°æ’åº

![image-20201120224029198](./img_sort/7.png)

```java
rotected void sort() {
		// æ‰¾å‡ºæœ€å¤§å€¼
		int max = array[0];
		for (int i = 1; i < array.length; i++) {
			if (array[i] > max) {
				max = array[i];
			}
		}
		
		// ä¸ªä½æ•°: array[i] / 1 % 10 = 3
		// åä½æ•°ï¼šarray[i] / 10 % 10 = 9
		// ç™¾ä½æ•°ï¼šarray[i] / 100 % 10 = 5
		// åƒä½æ•°ï¼šarray[i] / 1000 % 10 = ...

		for (int divider = 1; divider <= max; divider *= 10) {
			countingSort(divider);
		}
	}
	
	protected void countingSort(int divider) {
		// å¼€è¾Ÿå†…å­˜ç©ºé—´ï¼Œå­˜å‚¨æ¬¡æ•°
		int[] counts = new int[10];
		// ç»Ÿè®¡æ¯ä¸ªæ•´æ•°å‡ºç°çš„æ¬¡æ•°
		for (int i = 0; i < array.length; i++) {
			counts[array[i] / divider % 10]++;
		}
		// ç´¯åŠ æ¬¡æ•°
		for (int i = 1; i < counts.length; i++) {
			counts[i] += counts[i - 1];
		}
		
		// ä»åå¾€å‰éå†å…ƒç´ ï¼Œå°†å®ƒæ”¾åˆ°æœ‰åºæ•°ç»„ä¸­çš„åˆé€‚ä½ç½®
		int[] newArray = new int[array.length];
		for (int i = array.length - 1; i >= 0; i--) {
			newArray[--counts[array[i] / divider % 10]] = array[i];
		}
		
		// å°†æœ‰åºæ•°ç»„èµ‹å€¼åˆ°array
		for (int i = 0; i < newArray.length; i++) {
			array[i] = newArray[i];
		}
	}
```

# åã€æ¡¶æ’åº

**æ‰§è¡Œæµç¨‹** 

â‘  åˆ›å»ºä¸€å®šæ•°é‡çš„æ¡¶ï¼ˆæ¯”å¦‚ç”¨æ•°ç»„ã€é“¾è¡¨ä½œä¸ºæ¡¶ï¼‰ 

â‘¡ æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼ˆä¸åŒç±»å‹çš„æ•°æ®ï¼Œè§„åˆ™ä¸åŒï¼‰ï¼Œå°†åºåˆ—ä¸­çš„å…ƒç´ å‡åŒ€åˆ†é…åˆ°å¯¹åº”çš„æ¡¶ 

â‘¢ åˆ†åˆ«å¯¹æ¯ä¸ªæ¡¶è¿›è¡Œå•ç‹¬æ’åº 

â‘£ å°†æ‰€æœ‰éç©ºæ¡¶çš„å…ƒç´ åˆå¹¶æˆæœ‰åºåºåˆ—

![image-20201120224756462](./img_sort/8.png)

## 10.1 åˆ©ç”¨æ¡¶æ’åºæ’åºåæœ€å¤§å·®å€¼é—®é¢˜

> é¢˜ç›®ï¼šç»™å®šä¸ªæ•°ç»„ï¼Œæ±‚å¦‚æœæ’åºä¹‹åï¼Œç›¸é‚»ä¸¤æ•°çš„æœ€å¤§å·®å€¼,è¦æ±‚æ—¶é—´å¤æ‚åº¦O(N),ä¸”è¦æ±‚ä¸èƒ½ç”¨éåŸºäºæ¯”è¾ƒçš„æ’åºã€‚

ç»™å‡ºä¸‰ä¸ªæ¡¶ï¼Œæ”¾æœ€å¤§å€¼ æœ€å°å€¼ æ˜¯å¦æœ‰å€¼ å¹³å‡åˆ†é…æ¡¶

```java
package com.lcz.leetcode;
import java.util.*;

public class MaxGap {
	// æ±‚æœ€å¤§å·®å€¼ ç”¨æ¡¶æ’åº
	public static int maxGap(int[] nums) {
		if(nums==null || nums.length<2) {
			return 0;
		}
		int len = nums.length;
		int min = Integer.MAX_VALUE;
		int max = Integer.MIN_VALUE;
		for(int i=0;i<len;i++) {
			min = Math.min(min, nums[i]);
			max = Math.max(max, nums[i]);
		}
		if(min==max) {
			return 0;
		}
		// æ”¾å…¥æ¡¶ä¸­
		boolean[] hasNum = new boolean[len+1];
		int[] maxs = new int[len+1];
		int[] mins = new int[len+1];
		int bid = 0;
		for(int i=0;i<len;i++) {
			bid = bucket(nums[i], len, min, max);
			mins[bid] = hasNum[bid]?Math.min(mins[bid], nums[i]):nums[i];
			maxs[bid] = hasNum[bid]?Math.max(maxs[bid], nums[i]):nums[i];
			hasNum[bid] =  true;
		}
		// å¾—åˆ°ç»“æœ
		int res = 0;
		int lastMax = maxs[0];
		for(int i=1;i<=len;i++) {
			if(hasNum[i]) {
				res = Math.max(res, mins[i]-lastMax);
				lastMax = maxs[i];
			}
		}
		return res;
	}
	
	// ç¡®å®šå“ªä¸ªæ¡¶
	public static int bucket(long num,long len,long min,long max) {
		return (int)((num-min)*len / (max-min));
	}
	
	
	// æ ‡å‡†æ–¹æ³•
	public static int comparator(int[] nums) {
		if(nums==null||nums.length<2) {
			return 0;
		}
		// å¯¹å…¶æ’åº
		Arrays.sort(nums);
		// æ±‚æœ€å¤§å·®å€¼
		int gap = Integer.MIN_VALUE;
		for(int i=1;i<nums.length;i++) {
			gap = Math.max(nums[i]-nums[i-1], gap);
		}
		return gap;
	}
	// ä¸»å‡½æ•°
	public static void main(String[] args) {
		int[] arr = new int[] {1,3,2,6,5,7,8,9,0};
//		System.out.println(comparator(arr));
		System.out.println(maxGap(arr));
	}
}

```

# æ€»ç»“ã€å·¥ç¨‹ä¸­çš„ç»¼åˆæ’åºç®—æ³•

- åŸºç¡€ç±»å‹ï¼Œå¯¹äºç¨³å®šæ€§è¦æ±‚ä¸é«˜
  - å¯¹äºå°‘äº60ä¸ªçš„ï¼Œç›´æ¥ç”¨æ’å…¥æ’åºã€‚è™½ç„¶æ’å…¥æ’åºæ˜¯O(n^2),ä½†æ˜¯è¿™æ˜¯åœ¨å¿½ç•¥å¸¸æ•°é¡¹å¾—åˆ°çš„ã€‚åœ¨60ä»¥å†…ï¼Œæ’å…¥æ’åºçš„åŠ£åŠ¿ä½“ç°ä¸å‡ºæ¥ï¼Œå…¶å¸¸æ•°é¡¹å¾ˆä½ã€‚å¦‚æœä¸€å¼€å§‹æ•°ç»„å®¹é‡å¾ˆå¤§ï¼Œå¯åˆ†æ²»å¤„ç†ï¼Œåˆ†æ²»åå°äº60ä¸ªé‡‡ç”¨è¿™ä¸ªã€‚
  - å¯¹äºå¤§äº60çš„ï¼Œç”¨å¿«é€Ÿæ’åº
- è‡ªå®šä¹‰ç±»å‹å¯¹äºç¨³å®šæ€§æœ‰è¦æ±‚ï¼Œå› æ­¤ç”¨å½’å¹¶æ’åºï¼Œå› ä¸ºéœ€è¦ä¿æŒåŸå§‹é¡ºåºã€‚

# è½¶äº‹-ä¼‘çœ æ’åº

```java
	// ä¼‘çœ æ’åº
	private static class SortThread extends Thread{
		private int value;
		public SortThread(int value) {
			this.value = value;
		}
		public void run() {
			try {
				Thread.sleep(value);
				System.out.println(value);
			}catch (InterruptedException e) {
				e.printStackTrace();
			}
		}
	}
	
	// ä¸»å‡½æ•°
	public static void main(String[] args) {
		int[] arr = {10,100,50,30,60};
		for(int i=0;i<arr.length;i++) {
			new SortThread(arr[i]).start();
		}
	}
}

```

